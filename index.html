<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gaze Overlay</title>

<!-- WebGazer å®‰å®šç‰ˆ -->
<script src="https://webgazer.cs.brown.edu/webgazer.js"></script>

<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #000000; /* é»’ã‚¯ãƒ­ãƒã‚­ãƒ¼ */
  }

  video, canvas {
  display: none !important;
}


  #gazeDot {
    position: fixed;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: rgba(0, 255, 0, 0.35); /* åŠé€æ˜ã‚°ãƒªãƒ¼ãƒ³ */
    border: 2px solid rgba(0,255,0,0.8);
    pointer-events: none;
    transform: translate(-50%, -50%);
    transition: transform 0.05s linear;
  }

  #status {
    position: fixed;
    top: 10px;
    left: 10px;
    color: white;
    font-family: sans-serif;
    font-size: 14px;
    opacity: 0.7;
  }
</style>
</head>

<body>
<div id="gazeDot"></div>
<div id="status">Initializing Eye Tracker...</div>

<script>
const dot = document.getElementById("gazeDot");
const statusText = document.getElementById("status");

window.onload = async () => {

  // WebGazerèµ·å‹•
  await webgazer
    .setRegression('ridge')
    .setGazeListener((data) => {
      if (!data) return;

      dot.style.left = data.x + "px";
      dot.style.top = data.y + "px";
    })
    .begin();

  // ğŸ”¥ WebGazerã®UIå…¨éƒ¨æ¶ˆã™
  webgazer.showVideo(false);
  webgazer.showFaceOverlay(false);
  webgazer.showFaceFeedbackBox(false);
  webgazer.showPredictionPoints(false);

  statusText.textContent = "Tracking...";
};
</script>
</body>
</html>
